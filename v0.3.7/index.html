<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>BoxCox.jl Documentation · BoxCox</title><meta name="title" content="BoxCox.jl Documentation · BoxCox"/><meta property="og:title" content="BoxCox.jl Documentation · BoxCox"/><meta property="twitter:title" content="BoxCox.jl Documentation · BoxCox"/><meta name="description" content="Documentation for BoxCox."/><meta property="og:description" content="Documentation for BoxCox."/><meta property="twitter:description" content="Documentation for BoxCox."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>BoxCox</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>BoxCox.jl Documentation</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Box-Cox-transformations-of-an-unconditional-distribution"><span>Box-Cox transformations of an unconditional distribution</span></a></li><li class="toplevel"><a class="tocitem" href="#Box-Cox-transformations-of-a-conditional-distribution"><span>Box-Cox transformations of a conditional distribution</span></a></li></ul></li><li><a class="tocitem" href="mixed-models/">MixedModels.jl integration</a></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>BoxCox.jl Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>BoxCox.jl Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/palday/BoxCox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/palday/BoxCox.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="BoxCox.jl-Documentation"><a class="docs-heading-anchor" href="#BoxCox.jl-Documentation">BoxCox.jl Documentation</a><a id="BoxCox.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#BoxCox.jl-Documentation" title="Permalink"></a></h1><p><em>BoxCox.jl</em> is a Julia package providing an implementation of the Box-Cox transformation and generalizations thereof.</p><h1 id="Box-Cox-transformations-of-an-unconditional-distribution"><a class="docs-heading-anchor" href="#Box-Cox-transformations-of-an-unconditional-distribution">Box-Cox transformations of an unconditional distribution</a><a id="Box-Cox-transformations-of-an-unconditional-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Box-Cox-transformations-of-an-unconditional-distribution" title="Permalink"></a></h1><p>First, we consider applying the Box-Cox transformation to an unconditional distribution. In other words, we have a vector of data that we wish to be more Gaussian in shape.</p><p>We start with the square root of a normal distribution.</p><pre><code class="language-julia hljs">using BoxCox
using CairoMakie
using Random
CairoMakie.activate!(; type=&quot;svg&quot;)

x = abs2.(randn(MersenneTwister(42), 1000))
let f = Figure()
    ax = Axis(f[1,1]; xlabel=&quot;x&quot;, ylabel=&quot;density&quot;)
    density!(ax, x)
    ax = Axis(f[1,2]; xlabel=&quot;theoretical quantiles&quot;, ylabel=&quot;observed values&quot;)
    qqnorm!(ax, x)
    colsize!(f.layout, 1, Aspect(1, 1.0))
    colsize!(f.layout, 2, Aspect(1, 1.0))
    resize_to_layout!(f)
    f
end</code></pre><img src="index-812b2bd6.svg" alt="Example block output"/><p>We fit the Box-Cox transform.</p><pre><code class="language-julia hljs">bc = fit(BoxCoxTransformation, x)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Box-Cox transformation

estimated λ: 0.2164
resultant transformation:

 y^0.2 - 1
-----------
    0.2
</code></pre><p>Note that the resulting transform isn&#39;t exactly a square root, even though our data are just the square of a normal sample. The reason for this is simple: without knowing the original sign, the square root returns all positive values and would thus not generate a symmetric distribution. The Box-Cox transformation does not eliminate the use of the analyst&#39;s discretion and domain knowledge.</p><p>Now that we&#39;ve fit the transform, we use it like a function to transform the original data.</p><pre><code class="language-julia hljs">let f = Figure(), bcx = bc.(x)
    ax = Axis(f[1,1]; xlabel=&quot;x&quot;, ylabel=&quot;density&quot;)
    density!(ax, bcx)
    ax = Axis(f[1,2]; xlabel=&quot;theoretical quantiles&quot;, ylabel=&quot;observed values&quot;)
    qqnorm!(ax, bcx; qqline=:fitrobust)
    colsize!(f.layout, 1, Aspect(1, 1.0))
    colsize!(f.layout, 2, Aspect(1, 1.0))
    resize_to_layout!(f)
    f
end</code></pre><img src="index-c517b593.svg" alt="Example block output"/><p>We can also generate a diagnostic plot to see how well other parameter values would have worked for normalizing the data.</p><pre><code class="language-julia hljs">boxcoxplot(bc)</code></pre><img src="index-4979a722.svg" alt="Example block output"/><p>The vertical line corresponds to the final parameter estimate.</p><p>If we specify a confidence level, then an additional horizontal line is added, which crosses the likelihood profile at the points corresponding to the edge of the confidence interval.</p><pre><code class="language-julia hljs">boxcoxplot(bc; conf_level=0.95)</code></pre><img src="index-1be3d56b.svg" alt="Example block output"/><h1 id="Box-Cox-transformations-of-a-conditional-distribution"><a class="docs-heading-anchor" href="#Box-Cox-transformations-of-a-conditional-distribution">Box-Cox transformations of a conditional distribution</a><a id="Box-Cox-transformations-of-a-conditional-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Box-Cox-transformations-of-a-conditional-distribution" title="Permalink"></a></h1><p>We can also consider transformations of a conditional distribution. As an example, we consider the <code>trees</code> dataset:</p><pre><code class="language-julia hljs">using BoxCox
using CairoMakie
using RDatasets: dataset as rdataset
using StatsModels

CairoMakie.activate!(; type=&quot;svg&quot;)

trees = rdataset(&quot;datasets&quot;, &quot;trees&quot;)
first(trees, 5)</code></pre><div><div style = "float: left;"><span>5×3 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Girth</th><th style = "text-align: left;">Height</th><th style = "text-align: left;">Volume</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">8.3</td><td style = "text-align: right;">70</td><td style = "text-align: right;">10.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">8.6</td><td style = "text-align: right;">65</td><td style = "text-align: right;">10.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">8.8</td><td style = "text-align: right;">63</td><td style = "text-align: right;">10.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">10.5</td><td style = "text-align: right;">72</td><td style = "text-align: right;">16.4</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">10.7</td><td style = "text-align: right;">81</td><td style = "text-align: right;">18.8</td></tr></tbody></table></div><p>For the conditional distribution, we want to fit a linear regression to the transformed response values and then evaluate the profile likelihood of the transformation. If the StatsModels package has been loaded, either directly or indirectly (e.g. via loading GLM.jl or MixedModels.jl), then a formula interface is available. (Otherwise, the model matrix and the response have to specified separately.)</p><pre><code class="language-julia hljs">bc = fit(BoxCoxTransformation, @formula(Volume ~ log(Height) + log(Girth)), trees)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Box-Cox transformation

estimated λ: -0.0673
resultant transformation:

 y^-0.1 - 1
------------
    -0.1
</code></pre><p>We can do all the same diagnostics as previously:</p><pre><code class="language-julia hljs">let f = Figure()
    ax = Axis(f[1, 1]; title=&quot;Raw&quot;)
    density!(ax, trees.Volume)
    ax = Axis(f[1, 2]; title=&quot;Transformed&quot;)
    density!(ax, bc.(trees.Volume))
    colsize!(f.layout, 1, Aspect(1, 1.0))
    colsize!(f.layout, 2, Aspect(1, 1.0))
    resize_to_layout!(f)
    f
end</code></pre><img src="index-9e2dbcfb.svg" alt="Example block output"/><pre><code class="language-julia hljs">let f = Figure()
    ax = Axis(f[1, 1]; title=&quot;Raw&quot;, aspect=1)
    qqnorm!(ax, trees.Volume; qqline=:fitrobust)
    ax = Axis(f[1, 2]; title=&quot;Transformed&quot;, aspect=1)
    qqnorm!(ax, bc.(trees.Volume); qqline=:fitrobust)
    colsize!(f.layout, 1, Aspect(1, 1.0))
    colsize!(f.layout, 2, Aspect(1, 1.0))
    resize_to_layout!(f)
    f
end</code></pre><img src="index-c90f5099.svg" alt="Example block output"/><pre><code class="language-julia hljs">boxcoxplot(bc; conf_level=0.95)</code></pre><img src="index-b42775c2.svg" alt="Example block output"/><p>This last diagnostic plot suggests that λ = 0 is within the possible range of parameter values to consider.  λ = 0 corresponds to a logarithmic transformation; given that the other variables are log-transformed, this suggests that we should consider using a log transform for the response.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="mixed-models/">MixedModels.jl integration »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 27 August 2025 08:12">Wednesday 27 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
